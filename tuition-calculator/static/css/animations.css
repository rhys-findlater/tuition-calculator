/* UC Tuition Estimator - Figma Animations */
/* Shared easing: smooth Material Design curve */
:root {
  --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
  --duration-fast: 0.2s;
  --duration-normal: 0.3s;
  --duration-slow: 0.5s;
  --stagger-delay: 0.05s;
}

/* Tab switching only - 0.5s exit/enter */
#courseBodyContainer[data-state="exit"] { 
  animation-duration: 0.5s !important; 
}
#degreeBodyContainer[data-state="exit"] { 
  animation-duration: 0.5s !important; 
}
#courseBodyContainer, 
#degreeBodyContainer { 
  animation-duration: 0.5s !important; 
}

.popup-backdrop {
  opacity: 0;
  transition: opacity 200ms ease;
}

.popup-backdrop.is-open {
  opacity: 1;
}

.popup-backdrop .conflict-popup {
  opacity: 0;
  transform: scale(0.95);
  transition: opacity 200ms ease, transform 200ms ease;
}

.popup-backdrop.is-open .conflict-popup {
  opacity: 1;
  transform: scale(1);
}

.popup-backdrop .conflict-popup-icon {
  transform: scale(0) rotate(-180deg);
}

.popup-backdrop.is-open .conflict-popup-icon {
  animation: conflictIconPop 600ms cubic-bezier(.2, .9, .2, 1.2) both;
}

@keyframes conflictIconPop {
  0%   { transform: scale(0) rotate(-180deg); }
  70%  { transform: scale(1.08) rotate(0deg); }
  100% { transform: scale(1) rotate(0deg); }
}

.popup-backdrop .conflict-popup-body {
  opacity: 0;
  transform: translateY(10px);
}

.popup-backdrop.is-open .conflict-popup-body {
  animation: conflictBodyIn 400ms ease 200ms both;
}

@keyframes conflictBodyIn {
  to { opacity: 1; transform: translateY(0); }
}

.popup-backdrop .conflict-popup-actions {
  opacity: 0;
}

.popup-backdrop.is-open .conflict-popup-actions {
  animation: conflictFooterIn 400ms ease 300ms both;
}

@keyframes conflictFooterIn {
  to { opacity: 1; }
}

/* Page load sequence - staggered entrance */
@keyframes slideDownIn { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
@keyframes slideUpIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
@keyframes slideLeftIn { from { opacity: 0; transform: translateX(-20px); } to { opacity: 1; transform: translateX(0); } }
@keyframes slideRightIn { from { opacity: 0; transform: translateX(20px); } to { opacity: 1; transform: translateX(0); } }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

/* Header appears first */
.header { 
  animation: slideDownIn var(--duration-slow) var(--ease-smooth) forwards; 
  opacity: 0; 
}

/* Title follows header */
.header-text { 
  animation: slideDownIn var(--duration-slow) var(--ease-smooth) 0.3s forwards; 
  opacity: 0; 
}

/* Welcome card slides up */
.welcome-section-container { 
  animation: slideUpIn var(--duration-slow) var(--ease-smooth) 0.4s forwards; 
  opacity: 0; 
}

/* Learner info slides in from left */
.learner-info-container { 
  animation: slideLeftIn var(--duration-slow) var(--ease-smooth) 0.5s forwards; 
  opacity: 0; 
}

/* Course/Degree tabs */
.tab-container { 
  animation: slideLeftIn var(--duration-slow) var(--ease-smooth) 0.6s forwards; 
  opacity: 0; 
}

/* SSL panel */
.ssl-container { 
  animation: slideLeftIn var(--duration-slow) var(--ease-smooth) 0.7s forwards; 
  opacity: 0; 
}

/* SSL panel hover - fade panels in */
.ssl-container {
  overflow: hidden;
}

.ssl-panel-offshore,
.ssl-panel-onshore {
  transform: translateY(8px);
  transition: all 0.3s var(--ease-smooth);
}

.ssl-container:hover .ssl-panel-offshore,
.ssl-container:hover .ssl-panel-onshore {
  opacity: 1;
  transform: translateY(0);
}

/* Subtle lift on hover */
.ssl-container:hover {
  transform: translateY(-2px);
}

/* Cost summary slides from right */
.cost-summary-container { 
  animation: slideRightIn var(--duration-slow) var(--ease-smooth) 0.5s forwards; 
  opacity: 0; 
}

/* Footer fades last */
.footer { 
  animation: fadeIn var(--duration-slow) var(--ease-smooth) 0.8s forwards; 
  opacity: 0; 
}

/* Tab content switching */
@keyframes tabExitLeft { to { opacity: 0; transform: translateX(20px); } }
@keyframes tabExitRight { to { opacity: 0; transform: translateX(-20px); } }

#courseBodyContainer { 
  animation: slideLeftIn var(--duration-fast) var(--ease-smooth) forwards; 
}
#degreeBodyContainer { 
  animation: slideLeftIn var(--duration-fast) var(--ease-smooth) forwards; 
}
#courseBodyContainer[data-state="exit"] { 
  animation: tabExitLeft var(--duration-fast) var(--ease-smooth) forwards; 
}
#degreeBodyContainer[data-state="exit"] { 
  animation: tabExitRight var(--duration-fast) var(--ease-smooth) forwards; 
}

/* Active tab underline smooths between buttons */
.tab-container.tab-container-pill .tab-btn.tab-btn-active::before {
  transition: all var(--duration-normal) cubic-bezier(0.68, -0.55, 0.265, 1.55); /* bouncy feel */
}

/* Tab button feedback */
.tab-btn { 
  transition: transform var(--duration-fast) var(--ease-smooth); 
}
.tab-btn:hover:not(.tab-btn-active) { transform: scale(1.02); }
.tab-btn:active { transform: scale(0.98); }

/* Selected course cards - staggered entrance */
@keyframes courseCardIn { 
  from { opacity: 0; transform: translateX(-20px) scale(0.95); } 
  to { opacity: 1; transform: translateX(0) scale(1); } 
}
@keyframes courseCardOut { 
  to { opacity: 0; transform: translateX(20px) scale(0.95); } 
}

.selected-item-row {
  animation: courseCardIn var(--duration-fast) var(--ease-smooth) calc(var(--i, 0) * var(--stagger-delay)) both;
  opacity: 0;
}
.selected-item-row[data-exit] { 
  animation: courseCardOut var(--duration-fast) var(--ease-smooth) forwards; 
}

/* Faculty filter buttons */
.selection-faculty-filter-btn { 
  transition: all var(--duration-fast) var(--ease-smooth);
  transform: scale(1);
}
.selection-faculty-filter-btn:hover { transform: scale(1.05); }
.selection-faculty-filter-btn:active { transform: scale(0.95); }

/* No results message */
div[data-no-results] { 
  animation: courseCardIn var(--duration-fast) var(--ease-smooth) forwards; 
  opacity: 0; 
}

/* Available courses stagger */
.selection-item {
  animation: courseCardIn var(--duration-fast) var(--ease-smooth) calc(var(--i, 0) * var(--stagger-delay)) both;
  opacity: 0;
}

/* Degree cards slide up with stagger */
@keyframes degreeCardIn { 
  from { opacity: 0; transform: translateY(20px); } 
  to { opacity: 1; transform: translateY(0); } 
}
.selection-degree { 
  animation: degreeCardIn var(--duration-normal) var(--ease-smooth) calc(var(--i, 0) * var(--stagger-delay)) both;
  opacity: 0;
}

/* Degree hover effects */
.selection-degree { 
  transition: all var(--duration-fast) var(--ease-smooth); 
}
.selection-degree:hover { 
  background-color: rgba(0,0,0,0.05); 
  transform: scale(1.01); 
}

/* Learner selector options */
.learner-info-option { 
  transition: all var(--duration-fast) var(--ease-smooth);
  transform: scale(1);
}
.learner-info-option:hover { 
  transform: scale(1.02); 
  box-shadow: 0 4px 12px rgba(0,48,135,0.15);
}
.learner-info-option:active { transform: scale(0.98); }

/* Selected state colors (CSS only) */
.learner-info-option:has(input:checked) {
  border-color: #003087 !important;
  background-color: rgba(0,48,135,0.05) !important;
}

/* Cost breakdown updates */
@keyframes numberPulse { 
  0% { transform: scale(1.3); color: #cb3d2d; } 
  100% { transform: scale(1); color: #2c2c2c; } 
}
#costSummaryCoursesSelected,
#costSummaryTotalPoints { 
  animation: numberPulse var(--duration-normal) var(--ease-smooth) forwards;
}

/* Cost line items stagger */
.cost-summary-line:nth-child(1) { 
  animation: slideLeftIn var(--duration-fast) var(--ease-smooth) 0.2s forwards; 
  opacity: 0; 
}
.cost-summary-line:nth-child(2) { 
  animation: slideLeftIn var(--duration-fast) var(--ease-smooth) 0.25s forwards; 
  opacity: 0; 
}
.cost-summary-line:nth-child(3) { 
  animation: slideLeftIn var(--duration-fast) var(--ease-smooth) 0.3s forwards; 
  opacity: 0; 
}
.cost-summary-total { 
  animation: slideUpIn var(--duration-normal) var(--ease-smooth) 0.4s forwards; 
  opacity: 0; 
}

/* Export button feedback */
.cost-summary-export { 
  transition: transform var(--duration-fast) var(--ease-smooth);
}
.cost-summary-export:hover { transform: scale(1.05); }
.cost-summary-export:active { transform: scale(0.95); }

/* Modal entrance (extends your existing) */
.conflict-popup-icon {
  animation: conflictIconPop 0.6s cubic-bezier(0.2, 0.9, 0.2, 1.2) both;
  transform: scale(0) rotate(-180deg);
}
.conflict-popup-body { 
  animation: slideUpIn 0.4s var(--ease-smooth) 0.2s both;
  opacity: 0; 
  transform: translateY(10px);
}
.conflict-popup-actions { 
  animation: fadeIn 0.4s var(--ease-smooth) 0.3s both;
  opacity: 0;
}

/* Utility class for JS-triggered staggers */
@keyframes staggerSlideUp { 
  from { opacity: 0; transform: translateY(10px); } 
  to { opacity: 1; transform: translateY(0); } 
}
[data-animate] { 
  animation: staggerSlideUp var(--duration-fast) var(--ease-smooth) forwards; 
  opacity: 0; 
}

@media (hover: none), (pointer: coarse) {
  .learner-info-option:hover {
    transform: none !important;
    box-shadow: none !important;
  }
}

/* Or more specific - no transform at all on touch */
@media (max-width: 768px) {
  .learner-info-option {
    transform: none !important;
  }
  
  .learner-info-option:active {
    transform: scale(0.98);
  }
}